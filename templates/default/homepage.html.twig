{% extends 'base.html.twig' %}

{% block title %}{{ 'menu.home'|trans }}{% endblock %}

{% block body_id 'homepage' %}

{% block sorting %}
<div class="row">
    <div class="col-sm-12 col-md-8" id="article-sorting">
        <form class="form-inline my-2 my-lg-0" method="get" action="{{ path('homepage') }}">
            <label>{{ 'articles.sorting.title' | trans }}</label>
            <select name="articles_sorting" class="articles_sorting">
                <option value="created_date-DESC">{{ 'articles.sorting.date_created_desc' | trans }}</option>
                <option value="created_date-ASC">{{ 'articles.sorting.date_created_asc' | trans }}</option>
            </select>
            <button class="btn btn-info my-2 my-sm-0" type="submit">{{ 'order'|trans }}</button>
        </form>
    </div>
</div>
{% endblock %}

{% block main %}
    <h2>{{ 'articles.new'|trans }}</h2>
    {% for article in articles %}
        <div class="article-container my-1">
            <a href="{{ path('article_show', {slug: article.slug}) }}">

                {% if article.image is not null %}
                    <img class="show-article-img" style="width: 100px; height: 100px;" src="{{ asset(image_article_thumbnail_display ~ article.image.alt) }}" alt="{{ article.image.alt }}">
                {% else %}
                    <img class="article-img" src="{{ asset('images/default-image.png') }}">
                {% endif %}
                <div class="article-title d-inline-block pl-3 align-middle">
                    <span>{{ article.title }}</span>
                    <br>
                    <span class="align-left article-details"><img class="article-author-img rounded-circle" src="{{ asset('images/placeholder.png') }}"> {{ article.author.fullName }} </span>
                    <span class="pl-5 article-details float-right"> {{ article.createdAt|date("j F Y, H:i:s") }}</span>
                </div>
            </a>
        </div>
    {% else %}
        <div class="well">{{ 'article.no_found'|trans }}</div>
    {% endfor %}

    <div class="navigation text-center">
        {{ knp_pagination_render(articles) }}
    </div>
{% endblock %}

{% block sidebar %}
    {{ render(controller('App\\Controller\\Web\\HomeController::sidebar')) }}
{% endblock %}
